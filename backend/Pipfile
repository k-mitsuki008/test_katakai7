[[source]]
url = "https://pypi.org/simple"
verify_ssl = true
name = "pypi"

[scripts]
codestyle = "pycodestyle ."
lint = "bash -c \"pipenv run lint_src_test\""
lint_src_test = "env PYTHONPATH=PYTHONPATH:./src/:./src/functions/*:./src/layers/common/python:./src/layers/repository/python:./src/layers/service/python:./src/layers/gigya/python:./tests/ pylint --disable=R ./src ./tests"
autopep8 ="autopep8 --in-place --recursive -v ."
ut = "bash -c \"pipenv run ut_prepair && pipenv run ut_execute\""
ut_prepair = "bash -c \"docker-compose -f ./docker-compose.yml up -d && env DB_HOST=localhost DB_PORT=15432 DB_USERNAME=admin DB_PASSWORD=spvc_admin DB_NAME=spvc_local ./tests/create_tables.sh \""
ut_execute = "env DB_HOST=localhost DB_PORT=15432 DB_USERNAME=admin DB_PASSWORD=spvc_admin DB_NAME=spvc_local PYTHONPATH=PYTHONPATH:./src/:./src/functions/*:./src/layers/common/python:./src/layers/repository/python:./src/layers/service/python:./tests/ pytest -v ./tests --doctest-modules --junitxml=reports/report.xml --cov=src --cov-report=xml:reports/coverage.xml --ignore=./tests/layers/repository/test_maintain_history_repository.py --ignore=./tests/layers/repository/test_user_setting_maintain_item.py"
ut_stg = "bash -c \"pipenv run ut_prepair && pipenv run ut_execute_stg\""
ut_execute_stg = "env DB_HOST=localhost DB_PORT=15432 DB_USERNAME=admin DB_PASSWORD=spvc_admin DB_NAME=spvc_local PYTHONPATH=PYTHONPATH:./src/:./src/functions/*:./src/layers/common/python:./src/layers/repository/python:./src/layers/service/python:./tests/ pytest -v -c ./tests/pytest.stg.ini ./tests --doctest-modules --junitxml=reports/report.xml --cov=src --cov-report=xml:reports/coverage.xml"

[packages]
Cerberus = '==1.3.4'
boto3 = '==1.18.56'
pytz =  '==2021.3'
psycopg2 = '==2.9.1'
pymysql = '==1.0.2'
PyJWT = '==2.6.0'
python-dateutil = '==2.8.2'
cryptography = '==36.0.1'
requests = '==2.28.1'
firebase-admin='==6.1.0'

[dev-packages]
Cerberus = '==1.3.4'
boto3 = '==1.18.56'
mocker = '==1.1.1'
moto = '==4.0.7'
pytz = '==2021.3'
pymysql = '==1.0.2'
pytest = '==7.1.3'
pytest-cov = '==4.0.0'
pytest-env = '==0.8.1'
pytest-freezegun = '==0.4.2'
pytest-mock = '==3.6.1'
pylint = '==2.16.1'
pylint_junit = '==0.3.2'

[requires]
python_version = "3.9"
